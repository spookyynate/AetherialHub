-- Load the Luminosity UI library
local Luminosity = loadstring(game:HttpGet("https://raw.githubusercontent.com/iHavoc101/Genesis-Studios/main/UserInterface/Luminosity.lua", true))()

-- Create a new Luminosity window with a dark purple theme
local Window = Luminosity.new("Aetherial Hub", "v1.0.0", 4370345701)

-- Create a tab for ESP settings
local Tab1 = Window.Tab("ESP Settings", 6026568198)
local Folder = Tab1.Folder("Options", "Control ESP visibility")

-- Add a button to toggle ESP visibility
local ESPEnabled = true

Folder.Button("Toggle ESP", function()
    ESPEnabled = not ESPEnabled
    _G.ESPVisible = ESPEnabled
    
    -- Notify the user
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Aetherial Hub",
        Text = "ESP visibility is now " .. (ESPEnabled and "Enabled" or "Disabled"),
        Duration = 5,
    })
end)

-- Initialize ESP logic
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local Camera = game:GetService("Workspace").CurrentCamera
local UserInputService = game:GetService("UserInputService")

-- Check Drawing API availability
local function API_Check()
    return Drawing and "Yes" or "No"
end

local Find_Required = API_Check()

if Find_Required == "No" then
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Exunys Developer",
        Text = "ESP script could not be loaded because your exploit is unsupported.",
        Duration = math.huge,
        Button1 = "OK"
    })
    return
end

local function CreateESP()
    for _, player in ipairs(Players:GetPlayers()) do
        if player.Name ~= game.Players.LocalPlayer.Name then
            -- Create ESP for players
            local ESPBox = Drawing.new("Square")
            local ESPName = Drawing.new("Text")

            RunService.RenderStepped:Connect(function()
                if workspace:FindFirstChild(player.Name) and workspace[player.Name]:FindFirstChild("HumanoidRootPart") then
                    local HumanoidRootPart_Position = workspace[player.Name].HumanoidRootPart.CFrame.p
                    local Vector, OnScreen = Camera:WorldToViewportPoint(HumanoidRootPart_Position)
                    
                    ESPBox.Thickness = 1
                    ESPBox.Color = Color3.fromRGB(255, 0, 0) -- Red color for box
                    ESPBox.Filled = false
                    ESPBox.Transparency = 1
                    ESPBox.Size = Vector2.new(100, 100)
                    
                    ESPName.Text = player.Name
                    ESPName.Size = 14
                    ESPName.Color = Color3.fromRGB(255, 0, 0) -- Red color for text
                    ESPName.Outline = true
                    ESPName.OutlineColor = Color3.fromRGB(0, 0, 0) -- Black outline for text

                    if OnScreen then
                        ESPBox.Position = Vector2.new(Vector.X - ESPBox.Size.X / 2, Vector.Y - ESPBox.Size.Y / 2)
                        ESPName.Position = Vector2.new(Vector.X, Vector.Y - ESPBox.Size.Y / 2)
                        ESPBox.Visible = ESPEnabled
                        ESPName.Visible = ESPEnabled
                    else
                        ESPBox.Visible = false
                        ESPName.Visible = false
                    end
                else
                    ESPBox.Visible = false
                    ESPName.Visible = false
                end
            end)

            Players.PlayerRemoving:Connect(function()
                ESPBox.Visible = false
                ESPName.Visible = false
            end)
        end
    end

    Players.PlayerAdded:Connect(function(player)
        player.CharacterAdded:Connect(function()
            if player.Name ~= game.Players.LocalPlayer.Name then
                local ESPBox = Drawing.new("Square")
                local ESPName = Drawing.new("Text")

                RunService.RenderStepped:Connect(function()
                    if workspace:FindFirstChild(player.Name) and workspace[player.Name]:FindFirstChild("HumanoidRootPart") then
                        local HumanoidRootPart_Position = workspace[player.Name].HumanoidRootPart.CFrame.p
                        local Vector, OnScreen = Camera:WorldToViewportPoint(HumanoidRootPart_Position)

                        ESPBox.Thickness = 1
                        ESPBox.Color = Color3.fromRGB(255, 0, 0)
                        ESPBox.Filled = false
                        ESPBox.Transparency = 1
                        ESPBox.Size = Vector2.new(100, 100)
                        
                        ESPName.Text = player.Name
                        ESPName.Size = 14
                        ESPName.Color = Color3.fromRGB(255, 0, 0)
                        ESPName.Outline = true
                        ESPName.OutlineColor = Color3.fromRGB(0, 0, 0)

                        if OnScreen then
                            ESPBox.Position = Vector2.new(Vector.X - ESPBox.Size.X / 2, Vector.Y - ESPBox.Size.Y / 2)
                            ESPName.Position = Vector2.new(Vector.X, Vector.Y - ESPBox.Size.Y / 2)
                            ESPBox.Visible = ESPEnabled
                            ESPName.Visible = ESPEnabled
                        else
                            ESPBox.Visible = false
                            ESPName.Visible = false
                        end
                    else
                        ESPBox.Visible = false
                        ESPName.Visible = false
                    end
                end)

                Players.PlayerRemoving:Connect(function()
                    ESPBox.Visible = false
                    ESPName.Visible = false
                end)
            end
        end)
    end)
end

CreateESP()
